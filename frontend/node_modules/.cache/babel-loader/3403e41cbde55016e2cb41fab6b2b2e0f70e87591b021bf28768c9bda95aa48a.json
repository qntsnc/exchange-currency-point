{"ast":null,"code":"import _objectSpread from\"/Users/qntsnc/GolandProjects/exchange-point/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import{FaMoneyBillWave,FaCog}from'react-icons/fa';import'./OperationsPage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const OperationsPage=()=>{const[operations,setOperations]=useState([]);const[clients,setClients]=useState([]);const[currencies,setCurrencies]=useState([]);const[newOperation,setNewOperation]=useState({client_id:'',operation_type:'CLIENT_SELLS_TO_EXCHANGE',currency_id:'',amount:''});const[loading,setLoading]=useState(false);const[formLoading,setFormLoading]=useState(false);const[error,setError]=useState(null);const[formError,setFormError]=useState('');const[currentPage,setCurrentPage]=useState(1);const pageSize=10;const[activeTab,setActiveTab]=useState('currencies');// Загружаем лимиты из localStorage или используем значения по умолчанию\nconst[operationLimits,setOperationLimits]=useState(()=>{const saved=localStorage.getItem('operationLimits');if(saved){try{var _parsed$find,_parsed$find2;const parsed=JSON.parse(saved);return{daily_currency_volume:((_parsed$find=parsed.find(l=>l.limit_name==='daily_currency_volume'))===null||_parsed$find===void 0?void 0:_parsed$find.limit_value)||'1000.0',single_operation_amount:((_parsed$find2=parsed.find(l=>l.limit_name==='single_operation_amount'))===null||_parsed$find2===void 0?void 0:_parsed$find2.limit_value)||'5000.0'};}catch(e){console.error('Error parsing operationLimits from localStorage:',e);}}return{daily_currency_volume:'1000.0',single_operation_amount:'5000.0'};});const fetchOperations=useCallback(async page=>{setLoading(true);setError(null);try{const response=await fetch(\"http://localhost:8080/api/v1/operations?page=\".concat(page,\"&pageSize=\").concat(pageSize));if(!response.ok){const errData=await response.json();throw new Error(errData.message||\"Failed to fetch operations (\".concat(response.status,\")\"));}const data=await response.json();setOperations(data.data||[]);}catch(err){setError('Ошибка загрузки операций: '+err.message);console.error('Fetch operations error:',err);setOperations([]);}finally{setLoading(false);}},[pageSize]);const downloadReceipt=async operationId=>{try{const response=await fetch(\"http://localhost:8080/api/v1/operations/\".concat(operationId,\"/receipt\"));if(!response.ok){throw new Error(\"Failed to download receipt (\".concat(response.status,\")\"));}const blob=await response.blob();const url=window.URL.createObjectURL(blob);const link=document.createElement('a');link.href=url;link.download=\"receipt_\".concat(operationId,\".pdf\");document.body.appendChild(link);link.click();document.body.removeChild(link);window.URL.revokeObjectURL(url);}catch(err){console.error('Error downloading receipt:',err);setError(prev=>prev?\"\".concat(prev,\"; \\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0441\\u043A\\u0430\\u0447\\u0438\\u0432\\u0430\\u043D\\u0438\\u044F \\u0447\\u0435\\u043A\\u0430: \").concat(err.message):\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0441\\u043A\\u0430\\u0447\\u0438\\u0432\\u0430\\u043D\\u0438\\u044F \\u0447\\u0435\\u043A\\u0430: \".concat(err.message));}};const openReceipt=reference=>{const receiptUrl=\"http://localhost:8080/api/v1/receipts/\".concat(reference);window.open(receiptUrl,'_blank');};const fetchDropdownData=useCallback(async()=>{try{var _clientsData$data,_currenciesData$data;const[clientsRes,currenciesRes]=await Promise.all([fetch('http://localhost:8080/api/v1/clients'),fetch('http://localhost:8080/api/v1/currencies')]);if(!clientsRes.ok)throw new Error('Failed to fetch clients for dropdown');const clientsData=await clientsRes.json();setClients(clientsData.data||[]);if(((_clientsData$data=clientsData.data)===null||_clientsData$data===void 0?void 0:_clientsData$data.length)>0&&!newOperation.client_id){setNewOperation(prev=>_objectSpread(_objectSpread({},prev),{},{client_id:clientsData.data[0].id.toString()}));}if(!currenciesRes.ok)throw new Error('Failed to fetch currencies for dropdown');const currenciesData=await currenciesRes.json();setCurrencies(currenciesData.data||[]);if(((_currenciesData$data=currenciesData.data)===null||_currenciesData$data===void 0?void 0:_currenciesData$data.length)>0&&!newOperation.currency_id){setNewOperation(prev=>_objectSpread(_objectSpread({},prev),{},{currency_id:currenciesData.data[0].id.toString()}));}}catch(err){setError(prev=>prev?\"\".concat(prev,\"; \\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0438 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445 \\u0434\\u043B\\u044F \\u0444\\u043E\\u0440\\u043C\\u044B: \").concat(err.message):\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0438 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445 \\u0434\\u043B\\u044F \\u0444\\u043E\\u0440\\u043C\\u044B: \".concat(err.message));console.error('Fetch dropdown data error:',err);}},[]);// Убраны зависимости, так как они не нужны\nuseEffect(()=>{fetchOperations(currentPage);},[currentPage,fetchOperations]);useEffect(()=>{fetchDropdownData();},[fetchDropdownData]);const handleInputChange=e=>{const{name,value}=e.target;setNewOperation(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleSubmit=async e=>{e.preventDefault();setFormLoading(true);setFormError('');if(!newOperation.client_id||!newOperation.currency_id||!newOperation.amount){setFormError('Все поля обязательны.');setFormLoading(false);return;}const amount=parseFloat(newOperation.amount);if(amount<=0){setFormError('Сумма должна быть больше нуля.');setFormLoading(false);return;}if(amount>parseFloat(operationLimits.single_operation_amount)){setFormError(\"\\u0421\\u0443\\u043C\\u043C\\u0430 \\u043E\\u043F\\u0435\\u0440\\u0430\\u0446\\u0438\\u0438 \\u043F\\u0440\\u0435\\u0432\\u044B\\u0448\\u0430\\u0435\\u0442 \\u043B\\u0438\\u043C\\u0438\\u0442 \".concat(operationLimits.single_operation_amount));setFormLoading(false);return;}try{const payload={client_id:parseInt(newOperation.client_id),operation_type:newOperation.operation_type,currency_id:parseInt(newOperation.currency_id),amount:newOperation.amount.toString(),// Отправляем как строку\ndaily_currency_volume:operationLimits.daily_currency_volume,single_operation_amount:operationLimits.single_operation_amount};console.log('Sending operation payload:',payload);const response=await fetch('http://localhost:8080/api/v1/operations',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});if(!response.ok){let message=\"Network response was not ok (\".concat(response.status,\")\");try{const errData=await response.json();message=errData.message||message;}catch(jsonErr){console.error('Error parsing error response:',jsonErr);}if(message.includes('Daily limit')){setFormError('Превышен дневной лимит по валюте. Попробуйте завтра или уменьшите сумму.');}else if(message.includes('Single operation')){setFormError('Сумма операции превышает допустимый лимит.');}else{setFormError('Ошибка создания операции: '+message);}throw new Error(message);}setNewOperation(prev=>_objectSpread(_objectSpread({},prev),{},{amount:''}));fetchOperations(currentPage);}catch(err){console.error('Error creating operation:',err);}finally{setFormLoading(false);}};const formatDecimal=decimalStr=>{if(!decimalStr)return'N/A';const num=parseFloat(decimalStr);return isNaN(num)?decimalStr:num.toFixed(2);};const formatRate=rateStr=>{if(!rateStr)return'N/A';const num=parseFloat(rateStr);return isNaN(num)?rateStr:num.toFixed(4);};const formatDate=dateTimeStr=>{if(!dateTimeStr)return'Не указано';try{if(typeof dateTimeStr==='object'&&dateTimeStr!==null){if(dateTimeStr.Time){dateTimeStr=dateTimeStr.Time;}else if(dateTimeStr.Valid===false){return'Не указано';}else{dateTimeStr=String(dateTimeStr);}}if(typeof dateTimeStr==='string'){const isoRegex=/^(\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2})(\\.\\d+)?([+-]\\d{2}:\\d{2}|Z)?$/;const match=dateTimeStr.match(isoRegex);if(match){const date=new Date(dateTimeStr);return date.toLocaleString('ru-RU');}const dateMatch=dateTimeStr.match(/(\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2})/);if(dateMatch){const cleanedDate=dateMatch[1].replace(' ','T');const date=new Date(cleanedDate);if(!isNaN(date.getTime())){return date.toLocaleString('ru-RU');}}}const date=new Date(dateTimeStr);if(!isNaN(date.getTime())){return date.toLocaleString('ru-RU');}return'Некорректная дата';}catch(error){console.error('Ошибка обработки даты:',error);return'Ошибка даты';}};return/*#__PURE__*/_jsxs(\"div\",{className:\"page-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"operations-tabs\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"tab-button \".concat(activeTab==='currencies'?'active':''),onClick:()=>setActiveTab('currencies'),children:[/*#__PURE__*/_jsx(FaMoneyBillWave,{className:\"tab-icon\"}),\"\\u0412\\u0410\\u041B\\u042E\\u0422\\u042B \\u0418 \\u041A\\u0423\\u0420\\u0421\\u042B\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"tab-button \".concat(activeTab==='limits'?'active':''),onClick:()=>setActiveTab('limits'),children:[/*#__PURE__*/_jsx(FaCog,{className:\"tab-icon\"}),\"\\u041E\\u0413\\u0420\\u0410\\u041D\\u0418\\u0427\\u0415\\u041D\\u0418\\u042F \\u041E\\u041F\\u0415\\u0420\\u0410\\u0426\\u0418\\u0419\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tab-content-area\",children:[activeTab==='currencies'&&/*#__PURE__*/_jsxs(\"div\",{className:\"currencies-content\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"section-title\",children:[/*#__PURE__*/_jsx(FaMoneyBillWave,{}),\"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0432\\u0430\\u043B\\u044E\\u0442\\u0430\\u043C\\u0438 \\u0438 \\u043A\\u0443\\u0440\\u0441\\u0430\\u043C\\u0438\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"operations-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0412\\u0430\\u043B\\u044E\\u0442\\u0430\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0432\\u0430\\u043B\\u044E\\u0442\\u0443\"}),/*#__PURE__*/_jsx(\"option\",{value:\"USD\",children:\"USD - \\u0414\\u043E\\u043B\\u043B\\u0430\\u0440 \\u0421\\u0428\\u0410\"}),/*#__PURE__*/_jsx(\"option\",{value:\"EUR\",children:\"EUR - \\u0415\\u0432\\u0440\\u043E\"}),/*#__PURE__*/_jsx(\"option\",{value:\"GBP\",children:\"GBP - \\u0424\\u0443\\u043D\\u0442 \\u0441\\u0442\\u0435\\u0440\\u043B\\u0438\\u043D\\u0433\\u043E\\u0432\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u041A\\u0443\\u0440\\u0441 \\u043F\\u043E\\u043A\\u0443\\u043F\\u043A\\u0438\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-input\",placeholder:\"0.00\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u041A\\u0443\\u0440\\u0441 \\u043F\\u0440\\u043E\\u0434\\u0430\\u0436\\u0438\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-input\",placeholder:\"0.00\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary\",children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C \\u0438\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary\",children:\"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"})]})]})]}),activeTab==='limits'&&/*#__PURE__*/_jsxs(\"div\",{className:\"limits-content\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"section-title\",children:[/*#__PURE__*/_jsx(FaCog,{}),\"\\u041D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0430 \\u043E\\u0433\\u0440\\u0430\\u043D\\u0438\\u0447\\u0435\\u043D\\u0438\\u0439 \\u043E\\u043F\\u0435\\u0440\\u0430\\u0446\\u0438\\u0439\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"operations-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u041C\\u0438\\u043D\\u0438\\u043C\\u0430\\u043B\\u044C\\u043D\\u0430\\u044F \\u0441\\u0443\\u043C\\u043C\\u0430 \\u043E\\u043F\\u0435\\u0440\\u0430\\u0446\\u0438\\u0438\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-input\",placeholder:\"0.00\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u041C\\u0430\\u043A\\u0441\\u0438\\u043C\\u0430\\u043B\\u044C\\u043D\\u0430\\u044F \\u0441\\u0443\\u043C\\u043C\\u0430 \\u043E\\u043F\\u0435\\u0440\\u0430\\u0446\\u0438\\u0438\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-input\",placeholder:\"0.00\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0414\\u043D\\u0435\\u0432\\u043D\\u043E\\u0439 \\u043B\\u0438\\u043C\\u0438\\u0442 \\u043E\\u043F\\u0435\\u0440\\u0430\\u0446\\u0438\\u0439\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-input\",placeholder:\"0\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary\",children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C \\u043E\\u0433\\u0440\\u0430\\u043D\\u0438\\u0447\\u0435\\u043D\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary\",children:\"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"})]})]})]})]})]});};export default OperationsPage;","map":{"version":3,"names":["React","useState","useEffect","useCallback","FaMoneyBillWave","FaCog","jsx","_jsx","jsxs","_jsxs","OperationsPage","operations","setOperations","clients","setClients","currencies","setCurrencies","newOperation","setNewOperation","client_id","operation_type","currency_id","amount","loading","setLoading","formLoading","setFormLoading","error","setError","formError","setFormError","currentPage","setCurrentPage","pageSize","activeTab","setActiveTab","operationLimits","setOperationLimits","saved","localStorage","getItem","_parsed$find","_parsed$find2","parsed","JSON","parse","daily_currency_volume","find","l","limit_name","limit_value","single_operation_amount","e","console","fetchOperations","page","response","fetch","concat","ok","errData","json","Error","message","status","data","err","downloadReceipt","operationId","blob","url","window","URL","createObjectURL","link","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","prev","openReceipt","reference","receiptUrl","open","fetchDropdownData","_clientsData$data","_currenciesData$data","clientsRes","currenciesRes","Promise","all","clientsData","length","_objectSpread","id","toString","currenciesData","handleInputChange","name","value","target","handleSubmit","preventDefault","parseFloat","payload","parseInt","log","method","headers","stringify","jsonErr","includes","formatDecimal","decimalStr","num","isNaN","toFixed","formatRate","rateStr","formatDate","dateTimeStr","Time","Valid","String","isoRegex","match","date","Date","toLocaleString","dateMatch","cleanedDate","replace","getTime","className","children","onClick","type","placeholder"],"sources":["/Users/qntsnc/GolandProjects/exchange-point/frontend/src/pages/OperationsPage.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { FaMoneyBillWave, FaCog } from 'react-icons/fa';\nimport './OperationsPage.css';\n\nconst OperationsPage = () => {\n  const [operations, setOperations] = useState([]);\n  const [clients, setClients] = useState([]);\n  const [currencies, setCurrencies] = useState([]);\n  const [newOperation, setNewOperation] = useState({\n    client_id: '',\n    operation_type: 'CLIENT_SELLS_TO_EXCHANGE',\n    currency_id: '',\n    amount: '',\n  });\n  const [loading, setLoading] = useState(false);\n  const [formLoading, setFormLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [formError, setFormError] = useState('');\n  const [currentPage, setCurrentPage] = useState(1);\n  const pageSize = 10;\n  const [activeTab, setActiveTab] = useState('currencies');\n\n  // Загружаем лимиты из localStorage или используем значения по умолчанию\n  const [operationLimits, setOperationLimits] = useState(() => {\n    const saved = localStorage.getItem('operationLimits');\n    if (saved) {\n      try {\n        const parsed = JSON.parse(saved);\n        return {\n          daily_currency_volume: parsed.find(l => l.limit_name === 'daily_currency_volume')?.limit_value || '1000.0',\n          single_operation_amount: parsed.find(l => l.limit_name === 'single_operation_amount')?.limit_value || '5000.0',\n        };\n      } catch (e) {\n        console.error('Error parsing operationLimits from localStorage:', e);\n      }\n    }\n    return {\n      daily_currency_volume: '1000.0',\n      single_operation_amount: '5000.0',\n    };\n  });\n\n  const fetchOperations = useCallback(async (page) => {\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await fetch(`http://localhost:8080/api/v1/operations?page=${page}&pageSize=${pageSize}`);\n      if (!response.ok) {\n        const errData = await response.json();\n        throw new Error(errData.message || `Failed to fetch operations (${response.status})`);\n      }\n      const data = await response.json();\n      setOperations(data.data || []);\n    } catch (err) {\n      setError('Ошибка загрузки операций: ' + err.message);\n      console.error('Fetch operations error:', err);\n      setOperations([]);\n    } finally {\n      setLoading(false);\n    }\n  }, [pageSize]);\n\n  const downloadReceipt = async (operationId) => {\n    try {\n      const response = await fetch(`http://localhost:8080/api/v1/operations/${operationId}/receipt`);\n      if (!response.ok) {\n        throw new Error(`Failed to download receipt (${response.status})`);\n      }\n      const blob = await response.blob();\n      const url = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `receipt_${operationId}.pdf`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      window.URL.revokeObjectURL(url);\n    } catch (err) {\n      console.error('Error downloading receipt:', err);\n      setError(prev => prev ? `${prev}; Ошибка скачивания чека: ${err.message}` : `Ошибка скачивания чека: ${err.message}`);\n    }\n  };\n\n  const openReceipt = (reference) => {\n    const receiptUrl = `http://localhost:8080/api/v1/receipts/${reference}`;\n    window.open(receiptUrl, '_blank');\n  };\n\n  const fetchDropdownData = useCallback(async () => {\n    try {\n      const [clientsRes, currenciesRes] = await Promise.all([\n        fetch('http://localhost:8080/api/v1/clients'),\n        fetch('http://localhost:8080/api/v1/currencies')\n      ]);\n\n      if (!clientsRes.ok) throw new Error('Failed to fetch clients for dropdown');\n      const clientsData = await clientsRes.json();\n      setClients(clientsData.data || []);\n      if (clientsData.data?.length > 0 && !newOperation.client_id) {\n        setNewOperation(prev => ({ ...prev, client_id: clientsData.data[0].id.toString() }));\n      }\n\n      if (!currenciesRes.ok) throw new Error('Failed to fetch currencies for dropdown');\n      const currenciesData = await currenciesRes.json();\n      setCurrencies(currenciesData.data || []);\n      if (currenciesData.data?.length > 0 && !newOperation.currency_id) {\n        setNewOperation(prev => ({ ...prev, currency_id: currenciesData.data[0].id.toString() }));\n      }\n    } catch (err) {\n      setError(prev => prev ? `${prev}; Ошибка загрузки данных для формы: ${err.message}` : `Ошибка загрузки данных для формы: ${err.message}`);\n      console.error('Fetch dropdown data error:', err);\n    }\n  }, []); // Убраны зависимости, так как они не нужны\n\n  useEffect(() => {\n    fetchOperations(currentPage);\n  }, [currentPage, fetchOperations]);\n\n  useEffect(() => {\n    fetchDropdownData();\n  }, [fetchDropdownData]);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setNewOperation(prev => ({ ...prev, [name]: value }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setFormLoading(true);\n    setFormError('');\n\n    if (!newOperation.client_id || !newOperation.currency_id || !newOperation.amount) {\n      setFormError('Все поля обязательны.');\n      setFormLoading(false);\n      return;\n    }\n    const amount = parseFloat(newOperation.amount);\n    if (amount <= 0) {\n      setFormError('Сумма должна быть больше нуля.');\n      setFormLoading(false);\n      return;\n    }\n    if (amount > parseFloat(operationLimits.single_operation_amount)) {\n      setFormError(`Сумма операции превышает лимит ${operationLimits.single_operation_amount}`);\n      setFormLoading(false);\n      return;\n    }\n\n    try {\n      const payload = {\n        client_id: parseInt(newOperation.client_id),\n        operation_type: newOperation.operation_type,\n        currency_id: parseInt(newOperation.currency_id),\n        amount: newOperation.amount.toString(), // Отправляем как строку\n        daily_currency_volume: operationLimits.daily_currency_volume,\n        single_operation_amount: operationLimits.single_operation_amount,\n      };\n      console.log('Sending operation payload:', payload);\n      const response = await fetch('http://localhost:8080/api/v1/operations', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(payload),\n      });\n      if (!response.ok) {\n        let message = `Network response was not ok (${response.status})`;\n        try {\n          const errData = await response.json();\n          message = errData.message || message;\n        } catch (jsonErr) {\n          console.error('Error parsing error response:', jsonErr);\n        }\n        if (message.includes('Daily limit')) {\n          setFormError('Превышен дневной лимит по валюте. Попробуйте завтра или уменьшите сумму.');\n        } else if (message.includes('Single operation')) {\n          setFormError('Сумма операции превышает допустимый лимит.');\n        } else {\n          setFormError('Ошибка создания операции: ' + message);\n        }\n        throw new Error(message);\n      }\n      setNewOperation(prev => ({ ...prev, amount: '' }));\n      fetchOperations(currentPage);\n    } catch (err) {\n      console.error('Error creating operation:', err);\n    } finally {\n      setFormLoading(false);\n    }\n  };\n\n  const formatDecimal = (decimalStr) => {\n    if (!decimalStr) return 'N/A';\n    const num = parseFloat(decimalStr);\n    return isNaN(num) ? decimalStr : num.toFixed(2);\n  };\n\n  const formatRate = (rateStr) => {\n    if (!rateStr) return 'N/A';\n    const num = parseFloat(rateStr);\n    return isNaN(num) ? rateStr : num.toFixed(4);\n  };\n\n  const formatDate = (dateTimeStr) => {\n    if (!dateTimeStr) return 'Не указано';\n    try {\n      if (typeof dateTimeStr === 'object' && dateTimeStr !== null) {\n        if (dateTimeStr.Time) {\n          dateTimeStr = dateTimeStr.Time;\n        } else if (dateTimeStr.Valid === false) {\n          return 'Не указано';\n        } else {\n          dateTimeStr = String(dateTimeStr);\n        }\n      }\n      if (typeof dateTimeStr === 'string') {\n        const isoRegex = /^(\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2})(\\.\\d+)?([+-]\\d{2}:\\d{2}|Z)?$/;\n        const match = dateTimeStr.match(isoRegex);\n        if (match) {\n          const date = new Date(dateTimeStr);\n          return date.toLocaleString('ru-RU');\n        }\n        const dateMatch = dateTimeStr.match(/(\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2})/);\n        if (dateMatch) {\n          const cleanedDate = dateMatch[1].replace(' ', 'T');\n          const date = new Date(cleanedDate);\n          if (!isNaN(date.getTime())) {\n            return date.toLocaleString('ru-RU');\n          }\n        }\n      }\n      const date = new Date(dateTimeStr);\n      if (!isNaN(date.getTime())) {\n        return date.toLocaleString('ru-RU');\n      }\n      return 'Некорректная дата';\n    } catch (error) {\n      console.error('Ошибка обработки даты:', error);\n      return 'Ошибка даты';\n    }\n  };\n\n  return (\n    <div className=\"page-container\">\n      <div className=\"operations-tabs\">\n        <button\n          className={`tab-button ${activeTab === 'currencies' ? 'active' : ''}`}\n          onClick={() => setActiveTab('currencies')}\n        >\n          <FaMoneyBillWave className=\"tab-icon\" />\n          ВАЛЮТЫ И КУРСЫ\n        </button>\n        <button\n          className={`tab-button ${activeTab === 'limits' ? 'active' : ''}`}\n          onClick={() => setActiveTab('limits')}\n        >\n          <FaCog className=\"tab-icon\" />\n          ОГРАНИЧЕНИЯ ОПЕРАЦИЙ\n        </button>\n      </div>\n\n      <div className=\"tab-content-area\">\n        {activeTab === 'currencies' && (\n          <div className=\"currencies-content\">\n            <h2 className=\"section-title\">\n              <FaMoneyBillWave />\n              Управление валютами и курсами\n            </h2>\n            <div className=\"operations-form\">\n              <div className=\"form-grid\">\n                <div className=\"form-field\">\n                  <label>Валюта</label>\n                  <select className=\"form-select\">\n                    <option value=\"\">Выберите валюту</option>\n                    <option value=\"USD\">USD - Доллар США</option>\n                    <option value=\"EUR\">EUR - Евро</option>\n                    <option value=\"GBP\">GBP - Фунт стерлингов</option>\n                  </select>\n                </div>\n                <div className=\"form-field\">\n                  <label>Курс покупки</label>\n                  <input type=\"number\" className=\"form-input\" placeholder=\"0.00\" />\n                </div>\n                <div className=\"form-field\">\n                  <label>Курс продажи</label>\n                  <input type=\"number\" className=\"form-input\" placeholder=\"0.00\" />\n                </div>\n              </div>\n              <div className=\"form-actions\">\n                <button className=\"btn-primary\">\n                  Сохранить изменения\n                </button>\n                <button className=\"btn-secondary\">\n                  Отменить\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {activeTab === 'limits' && (\n          <div className=\"limits-content\">\n            <h2 className=\"section-title\">\n              <FaCog />\n              Настройка ограничений операций\n            </h2>\n            <div className=\"operations-form\">\n              <div className=\"form-grid\">\n                <div className=\"form-field\">\n                  <label>Минимальная сумма операции</label>\n                  <input type=\"number\" className=\"form-input\" placeholder=\"0.00\" />\n                </div>\n                <div className=\"form-field\">\n                  <label>Максимальная сумма операции</label>\n                  <input type=\"number\" className=\"form-input\" placeholder=\"0.00\" />\n                </div>\n                <div className=\"form-field\">\n                  <label>Дневной лимит операций</label>\n                  <input type=\"number\" className=\"form-input\" placeholder=\"0\" />\n                </div>\n              </div>\n              <div className=\"form-actions\">\n                <button className=\"btn-primary\">\n                  Сохранить ограничения\n                </button>\n                <button className=\"btn-secondary\">\n                  Отменить\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default OperationsPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}