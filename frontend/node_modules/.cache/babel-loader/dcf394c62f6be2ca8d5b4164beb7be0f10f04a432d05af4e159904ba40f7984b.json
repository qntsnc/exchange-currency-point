{"ast":null,"code":"import _objectSpread from\"/Users/qntsnc/GolandProjects/exchange-point/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const OperationsPage=()=>{const[operations,setOperations]=useState([]);const[clients,setClients]=useState([]);const[currencies,setCurrencies]=useState([]);const[newOperation,setNewOperation]=useState({client_id:'',operation_type:'CLIENT_SELLS_TO_EXCHANGE',currency_id:'',amount:''});const[loading,setLoading]=useState(false);const[formLoading,setFormLoading]=useState(false);const[error,setError]=useState(null);const[formError,setFormError]=useState('');const[currentPage,setCurrentPage]=useState(1);const pageSize=10;// Загружаем лимиты из localStorage или используем значения по умолчанию\nconst[operationLimits,setOperationLimits]=useState(()=>{const saved=localStorage.getItem('operationLimits');if(saved){try{var _parsed$find,_parsed$find2;const parsed=JSON.parse(saved);return{daily_currency_volume:((_parsed$find=parsed.find(l=>l.limit_name==='daily_currency_volume'))===null||_parsed$find===void 0?void 0:_parsed$find.limit_value)||'1000.0',single_operation_amount:((_parsed$find2=parsed.find(l=>l.limit_name==='single_operation_amount'))===null||_parsed$find2===void 0?void 0:_parsed$find2.limit_value)||'5000.0'};}catch(e){console.error('Error parsing operationLimits from localStorage:',e);}}return{daily_currency_volume:'1000.0',single_operation_amount:'5000.0'};});const fetchOperations=useCallback(async page=>{setLoading(true);setError(null);try{const response=await fetch(\"http://localhost:8080/api/v1/operations?page=\".concat(page,\"&pageSize=\").concat(pageSize));if(!response.ok){const errData=await response.json();throw new Error(errData.message||\"Failed to fetch operations (\".concat(response.status,\")\"));}const data=await response.json();setOperations(data.data||[]);}catch(err){setError('Ошибка загрузки операций: '+err.message);console.error('Fetch operations error:',err);setOperations([]);}finally{setLoading(false);}},[pageSize]);const downloadReceipt=async operationId=>{try{const response=await fetch(\"http://localhost:8080/api/v1/operations/\".concat(operationId,\"/receipt\"));if(!response.ok){throw new Error(\"Failed to download receipt (\".concat(response.status,\")\"));}const blob=await response.blob();const url=window.URL.createObjectURL(blob);const link=document.createElement('a');link.href=url;link.download=\"receipt_\".concat(operationId,\".pdf\");document.body.appendChild(link);link.click();document.body.removeChild(link);window.URL.revokeObjectURL(url);}catch(err){console.error('Error downloading receipt:',err);setError(prev=>prev?\"\".concat(prev,\"; \\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0441\\u043A\\u0430\\u0447\\u0438\\u0432\\u0430\\u043D\\u0438\\u044F \\u0447\\u0435\\u043A\\u0430: \").concat(err.message):\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0441\\u043A\\u0430\\u0447\\u0438\\u0432\\u0430\\u043D\\u0438\\u044F \\u0447\\u0435\\u043A\\u0430: \".concat(err.message));}};const openReceipt=reference=>{const receiptUrl=\"http://localhost:8080/api/v1/receipts/\".concat(reference);window.open(receiptUrl,'_blank');};const fetchDropdownData=useCallback(async()=>{try{var _clientsData$data,_currenciesData$data;const[clientsRes,currenciesRes]=await Promise.all([fetch('http://localhost:8080/api/v1/clients'),fetch('http://localhost:8080/api/v1/currencies')]);if(!clientsRes.ok)throw new Error('Failed to fetch clients for dropdown');const clientsData=await clientsRes.json();setClients(clientsData.data||[]);if(((_clientsData$data=clientsData.data)===null||_clientsData$data===void 0?void 0:_clientsData$data.length)>0&&!newOperation.client_id){setNewOperation(prev=>_objectSpread(_objectSpread({},prev),{},{client_id:clientsData.data[0].id.toString()}));}if(!currenciesRes.ok)throw new Error('Failed to fetch currencies for dropdown');const currenciesData=await currenciesRes.json();setCurrencies(currenciesData.data||[]);if(((_currenciesData$data=currenciesData.data)===null||_currenciesData$data===void 0?void 0:_currenciesData$data.length)>0&&!newOperation.currency_id){setNewOperation(prev=>_objectSpread(_objectSpread({},prev),{},{currency_id:currenciesData.data[0].id.toString()}));}}catch(err){setError(prev=>prev?\"\".concat(prev,\"; \\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0438 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445 \\u0434\\u043B\\u044F \\u0444\\u043E\\u0440\\u043C\\u044B: \").concat(err.message):\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0438 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445 \\u0434\\u043B\\u044F \\u0444\\u043E\\u0440\\u043C\\u044B: \".concat(err.message));console.error('Fetch dropdown data error:',err);}},[]);// Убраны зависимости, так как они не нужны\nuseEffect(()=>{fetchOperations(currentPage);},[currentPage,fetchOperations]);useEffect(()=>{fetchDropdownData();},[fetchDropdownData]);const handleInputChange=e=>{const{name,value}=e.target;setNewOperation(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleSubmit=async e=>{e.preventDefault();setFormLoading(true);setFormError('');if(!newOperation.client_id||!newOperation.currency_id||!newOperation.amount){setFormError('Все поля обязательны.');setFormLoading(false);return;}const amount=parseFloat(newOperation.amount);if(amount<=0){setFormError('Сумма должна быть больше нуля.');setFormLoading(false);return;}if(amount>parseFloat(operationLimits.single_operation_amount)){setFormError(\"\\u0421\\u0443\\u043C\\u043C\\u0430 \\u043E\\u043F\\u0435\\u0440\\u0430\\u0446\\u0438\\u0438 \\u043F\\u0440\\u0435\\u0432\\u044B\\u0448\\u0430\\u0435\\u0442 \\u043B\\u0438\\u043C\\u0438\\u0442 \".concat(operationLimits.single_operation_amount));setFormLoading(false);return;}try{const payload={client_id:parseInt(newOperation.client_id),operation_type:newOperation.operation_type,currency_id:parseInt(newOperation.currency_id),amount:newOperation.amount.toString(),// Отправляем как строку\ndaily_currency_volume:operationLimits.daily_currency_volume,single_operation_amount:operationLimits.single_operation_amount};console.log('Sending operation payload:',payload);const response=await fetch('http://localhost:8080/api/v1/operations',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});if(!response.ok){let message=\"Network response was not ok (\".concat(response.status,\")\");try{const errData=await response.json();message=errData.message||message;}catch(jsonErr){console.error('Error parsing error response:',jsonErr);}if(message.includes('Daily limit')){setFormError('Превышен дневной лимит по валюте. Попробуйте завтра или уменьшите сумму.');}else if(message.includes('Single operation')){setFormError('Сумма операции превышает допустимый лимит.');}else{setFormError('Ошибка создания операции: '+message);}throw new Error(message);}setNewOperation(prev=>_objectSpread(_objectSpread({},prev),{},{amount:''}));fetchOperations(currentPage);}catch(err){console.error('Error creating operation:',err);}finally{setFormLoading(false);}};const formatDecimal=decimalStr=>{if(!decimalStr)return'N/A';const num=parseFloat(decimalStr);return isNaN(num)?decimalStr:num.toFixed(2);};const formatRate=rateStr=>{if(!rateStr)return'N/A';const num=parseFloat(rateStr);return isNaN(num)?rateStr:num.toFixed(4);};const formatDate=dateTimeStr=>{if(!dateTimeStr)return'Не указано';try{if(typeof dateTimeStr==='object'&&dateTimeStr!==null){if(dateTimeStr.Time){dateTimeStr=dateTimeStr.Time;}else if(dateTimeStr.Valid===false){return'Не указано';}else{dateTimeStr=String(dateTimeStr);}}if(typeof dateTimeStr==='string'){const isoRegex=/^(\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2})(\\.\\d+)?([+-]\\d{2}:\\d{2}|Z)?$/;const match=dateTimeStr.match(isoRegex);if(match){const date=new Date(dateTimeStr);return date.toLocaleString('ru-RU');}const dateMatch=dateTimeStr.match(/(\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2})/);if(dateMatch){const cleanedDate=dateMatch[1].replace(' ','T');const date=new Date(cleanedDate);if(!isNaN(date.getTime())){return date.toLocaleString('ru-RU');}}}const date=new Date(dateTimeStr);if(!isNaN(date.getTime())){return date.toLocaleString('ru-RU');}return'Некорректная дата';}catch(error){console.error('Ошибка обработки даты:',error);return'Ошибка даты';}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u041E\\u043F\\u0435\\u0440\\u0430\\u0446\\u0438\\u0438 \\u041E\\u0431\\u043C\\u0435\\u043D\\u0430\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",style:{color:'red'},children:error}),/*#__PURE__*/_jsx(\"h3\",{children:\"\\u041D\\u043E\\u0432\\u0430\\u044F \\u043E\\u043F\\u0435\\u0440\\u0430\\u0446\\u0438\\u044F\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[formError&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",style:{color:'red'},children:formError}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"client_id\",children:\"\\u041A\\u043B\\u0438\\u0435\\u043D\\u0442:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"client_id\",name:\"client_id\",value:newOperation.client_id,onChange:handleInputChange,required:true,style:{padding:'8px',width:'200px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- \\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\\u0430 --\"}),clients.map(client=>/*#__PURE__*/_jsxs(\"option\",{value:client.id,children:[client.full_name,\" (ID: \",client.id,\")\"]},client.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"operation_type\",children:\"\\u0422\\u0438\\u043F \\u043E\\u043F\\u0435\\u0440\\u0430\\u0446\\u0438\\u0438:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"operation_type\",name:\"operation_type\",value:newOperation.operation_type,onChange:handleInputChange,style:{padding:'8px',width:'200px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"CLIENT_SELLS_TO_EXCHANGE\",children:\"\\u041A\\u043B\\u0438\\u0435\\u043D\\u0442 \\u043F\\u0440\\u043E\\u0434\\u0430\\u0451\\u0442 \\u0432\\u0430\\u043B\\u044E\\u0442\\u0443 (\\u043F\\u043E\\u043A\\u0443\\u043F\\u0430\\u0435\\u0442 \\u0440\\u0443\\u0431\\u043B\\u0438)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"CLIENT_BUYS_FROM_EXCHANGE\",children:\"\\u041A\\u043B\\u0438\\u0435\\u043D\\u0442 \\u043F\\u043E\\u043A\\u0443\\u043F\\u0430\\u0435\\u0442 \\u0432\\u0430\\u043B\\u044E\\u0442\\u0443 (\\u043F\\u0440\\u043E\\u0434\\u0430\\u0451\\u0442 \\u0440\\u0443\\u0431\\u043B\\u0438)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"currency_id\",children:\"\\u0412\\u0430\\u043B\\u044E\\u0442\\u0430:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"currency_id\",name:\"currency_id\",value:newOperation.currency_id,onChange:handleInputChange,required:true,style:{padding:'8px',width:'200px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- \\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0432\\u0430\\u043B\\u044E\\u0442\\u0443 --\"}),currencies.map(curr=>/*#__PURE__*/_jsxs(\"option\",{value:curr.id,children:[curr.code,\" (\",curr.name,\")\"]},curr.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"amount\",children:newOperation.operation_type==='CLIENT_SELLS_TO_EXCHANGE'?'Сумма валюты (продажа):':'Сумма рублей (покупка):'}),/*#__PURE__*/_jsx(\"input\",{id:\"amount\",type:\"number\",step:\"0.01\",name:\"amount\",value:newOperation.amount,onChange:handleInputChange,required:true,style:{padding:'8px',width:'200px'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'10px'},children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u041B\\u0438\\u043C\\u0438\\u0442 \\u043E\\u0434\\u043D\\u043E\\u0439 \\u043E\\u043F\\u0435\\u0440\\u0430\\u0446\\u0438\\u0438: \",formatDecimal(operationLimits.single_operation_amount)]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0414\\u043D\\u0435\\u0432\\u043D\\u043E\\u0439 \\u043B\\u0438\\u043C\\u0438\\u0442 \\u043F\\u043E \\u0432\\u0430\\u043B\\u044E\\u0442\\u0435: \",formatDecimal(operationLimits.daily_currency_volume)]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:formLoading,style:{padding:'8px 16px',backgroundColor:formLoading?'#ccc':'#4CAF50',color:'white',border:'none',borderRadius:'4px',cursor:formLoading?'not-allowed':'pointer'},children:formLoading?'Обработка...':'Создать операцию'})]}),/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0418\\u0441\\u0442\\u043E\\u0440\\u0438\\u044F \\u043E\\u043F\\u0435\\u0440\\u0430\\u0446\\u0438\\u0439\"}),loading&&/*#__PURE__*/_jsx(\"p\",{className:\"loading-message\",children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u043E\\u043F\\u0435\\u0440\\u0430\\u0446\\u0438\\u0439...\"}),!loading&&operations.length===0&&/*#__PURE__*/_jsx(\"p\",{children:\"\\u041D\\u0435\\u0442 \\u043E\\u043F\\u0435\\u0440\\u0430\\u0446\\u0438\\u0439 \\u0434\\u043B\\u044F \\u043E\\u0442\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u044F.\"}),!loading&&operations.length>0&&/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse',marginTop:'20px'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{style:{backgroundColor:'#f0f0f0'},children:[/*#__PURE__*/_jsx(\"th\",{style:{border:'1px solid #ddd',padding:'8px'},children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{style:{border:'1px solid #ddd',padding:'8px'},children:\"\\u041A\\u043B\\u0438\\u0435\\u043D\\u0442\"}),/*#__PURE__*/_jsx(\"th\",{style:{border:'1px solid #ddd',padding:'8px'},children:\"\\u0422\\u0438\\u043F\"}),/*#__PURE__*/_jsx(\"th\",{style:{border:'1px solid #ddd',padding:'8px'},children:\"\\u0412\\u0430\\u043B\\u044E\\u0442\\u0430\"}),/*#__PURE__*/_jsx(\"th\",{style:{border:'1px solid #ddd',padding:'8px'},children:\"\\u0420\\u0443\\u0431\\u043B\\u0438\"}),/*#__PURE__*/_jsx(\"th\",{style:{border:'1px solid #ddd',padding:'8px'},children:\"\\u042D\\u0444\\u0444. \\u041A\\u0443\\u0440\\u0441\"}),/*#__PURE__*/_jsx(\"th\",{style:{border:'1px solid #ddd',padding:'8px'},children:\"\\u0412\\u0440\\u0435\\u043C\\u044F\"}),/*#__PURE__*/_jsx(\"th\",{style:{border:'1px solid #ddd',padding:'8px'},children:\"\\u0427\\u0435\\u043A\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:operations.map(op=>/*#__PURE__*/_jsxs(\"tr\",{style:{border:'1px solid #ddd'},children:[/*#__PURE__*/_jsx(\"td\",{style:{border:'1px solid #ddd',padding:'8px'},children:op.id}),/*#__PURE__*/_jsx(\"td\",{style:{border:'1px solid #ddd',padding:'8px'},children:op.client_name||\"ID: \".concat(op.client_id)}),/*#__PURE__*/_jsx(\"td\",{style:{border:'1px solid #ddd',padding:'8px'},children:op.operation_type==='CLIENT_SELLS_TO_EXCHANGE'?'Продажа валюты':'Покупка валюты'}),/*#__PURE__*/_jsxs(\"td\",{style:{border:'1px solid #ddd',padding:'8px'},children:[formatDecimal(op.amount_currency),\" \",op.currency_code]}),/*#__PURE__*/_jsxs(\"td\",{style:{border:'1px solid #ddd',padding:'8px'},children:[formatDecimal(op.amount_rub),\" RUB\"]}),/*#__PURE__*/_jsx(\"td\",{style:{border:'1px solid #ddd',padding:'8px'},children:formatRate(op.effective_rate)}),/*#__PURE__*/_jsx(\"td\",{style:{border:'1px solid #ddd',padding:'8px'},children:formatDate(op.operation_timestamp)}),/*#__PURE__*/_jsx(\"td\",{style:{border:'1px solid #ddd',padding:'8px'},children:/*#__PURE__*/_jsx(\"a\",{className:\"receipt-link\",href:\"#\",onClick:e=>{e.preventDefault();openReceipt(op.receipt_reference);},title:\"\\u041D\\u0430\\u0436\\u043C\\u0438\\u0442\\u0435 \\u0434\\u043B\\u044F \\u043F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440\\u0430 \\u0447\\u0435\\u043A\\u0430\",style:{color:'#2196F3',textDecoration:'none'},children:op.receipt_reference})})]},op.id))})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(p=>Math.max(1,p-1)),disabled:currentPage===1||loading,style:{padding:'8px 16px',marginRight:'10px',backgroundColor:currentPage===1||loading?'#ccc':'#2196F3',color:'white',border:'none',borderRadius:'4px',cursor:currentPage===1||loading?'not-allowed':'pointer'},children:\"\\u041F\\u0440\\u0435\\u0434\\u044B\\u0434\\u0443\\u0449\\u0430\\u044F\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u0421\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0430: \",currentPage]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(p=>p+1),disabled:operations.length<pageSize||loading,style:{padding:'8px 16px',marginLeft:'10px',backgroundColor:operations.length<pageSize||loading?'#ccc':'#2196F3',color:'white',border:'none',borderRadius:'4px',cursor:operations.length<pageSize||loading?'not-allowed':'pointer'},children:\"\\u0421\\u043B\\u0435\\u0434\\u0443\\u044E\\u0449\\u0430\\u044F\"})]})]});};export default OperationsPage;","map":{"version":3,"names":["React","useState","useEffect","useCallback","jsx","_jsx","jsxs","_jsxs","OperationsPage","operations","setOperations","clients","setClients","currencies","setCurrencies","newOperation","setNewOperation","client_id","operation_type","currency_id","amount","loading","setLoading","formLoading","setFormLoading","error","setError","formError","setFormError","currentPage","setCurrentPage","pageSize","operationLimits","setOperationLimits","saved","localStorage","getItem","_parsed$find","_parsed$find2","parsed","JSON","parse","daily_currency_volume","find","l","limit_name","limit_value","single_operation_amount","e","console","fetchOperations","page","response","fetch","concat","ok","errData","json","Error","message","status","data","err","downloadReceipt","operationId","blob","url","window","URL","createObjectURL","link","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","prev","openReceipt","reference","receiptUrl","open","fetchDropdownData","_clientsData$data","_currenciesData$data","clientsRes","currenciesRes","Promise","all","clientsData","length","_objectSpread","id","toString","currenciesData","handleInputChange","name","value","target","handleSubmit","preventDefault","parseFloat","payload","parseInt","log","method","headers","stringify","jsonErr","includes","formatDecimal","decimalStr","num","isNaN","toFixed","formatRate","rateStr","formatDate","dateTimeStr","Time","Valid","String","isoRegex","match","date","Date","toLocaleString","dateMatch","cleanedDate","replace","getTime","children","className","style","color","onSubmit","marginBottom","htmlFor","onChange","required","padding","width","map","client","full_name","curr","code","type","step","disabled","backgroundColor","border","borderRadius","cursor","borderCollapse","marginTop","op","client_name","amount_currency","currency_code","amount_rub","effective_rate","operation_timestamp","onClick","receipt_reference","title","textDecoration","p","Math","max","marginRight","marginLeft"],"sources":["/Users/qntsnc/GolandProjects/exchange-point/frontend/src/pages/OperationsPage.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\n\nconst OperationsPage = () => {\n  const [operations, setOperations] = useState([]);\n  const [clients, setClients] = useState([]);\n  const [currencies, setCurrencies] = useState([]);\n  const [newOperation, setNewOperation] = useState({\n    client_id: '',\n    operation_type: 'CLIENT_SELLS_TO_EXCHANGE',\n    currency_id: '',\n    amount: '',\n  });\n  const [loading, setLoading] = useState(false);\n  const [formLoading, setFormLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [formError, setFormError] = useState('');\n  const [currentPage, setCurrentPage] = useState(1);\n  const pageSize = 10;\n\n  // Загружаем лимиты из localStorage или используем значения по умолчанию\n  const [operationLimits, setOperationLimits] = useState(() => {\n    const saved = localStorage.getItem('operationLimits');\n    if (saved) {\n      try {\n        const parsed = JSON.parse(saved);\n        return {\n          daily_currency_volume: parsed.find(l => l.limit_name === 'daily_currency_volume')?.limit_value || '1000.0',\n          single_operation_amount: parsed.find(l => l.limit_name === 'single_operation_amount')?.limit_value || '5000.0',\n        };\n      } catch (e) {\n        console.error('Error parsing operationLimits from localStorage:', e);\n      }\n    }\n    return {\n      daily_currency_volume: '1000.0',\n      single_operation_amount: '5000.0',\n    };\n  });\n\n  const fetchOperations = useCallback(async (page) => {\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await fetch(`http://localhost:8080/api/v1/operations?page=${page}&pageSize=${pageSize}`);\n      if (!response.ok) {\n        const errData = await response.json();\n        throw new Error(errData.message || `Failed to fetch operations (${response.status})`);\n      }\n      const data = await response.json();\n      setOperations(data.data || []);\n    } catch (err) {\n      setError('Ошибка загрузки операций: ' + err.message);\n      console.error('Fetch operations error:', err);\n      setOperations([]);\n    } finally {\n      setLoading(false);\n    }\n  }, [pageSize]);\n\n  const downloadReceipt = async (operationId) => {\n    try {\n      const response = await fetch(`http://localhost:8080/api/v1/operations/${operationId}/receipt`);\n      if (!response.ok) {\n        throw new Error(`Failed to download receipt (${response.status})`);\n      }\n      const blob = await response.blob();\n      const url = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `receipt_${operationId}.pdf`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      window.URL.revokeObjectURL(url);\n    } catch (err) {\n      console.error('Error downloading receipt:', err);\n      setError(prev => prev ? `${prev}; Ошибка скачивания чека: ${err.message}` : `Ошибка скачивания чека: ${err.message}`);\n    }\n  };\n\n  const openReceipt = (reference) => {\n    const receiptUrl = `http://localhost:8080/api/v1/receipts/${reference}`;\n    window.open(receiptUrl, '_blank');\n  };\n\n  const fetchDropdownData = useCallback(async () => {\n    try {\n      const [clientsRes, currenciesRes] = await Promise.all([\n        fetch('http://localhost:8080/api/v1/clients'),\n        fetch('http://localhost:8080/api/v1/currencies')\n      ]);\n\n      if (!clientsRes.ok) throw new Error('Failed to fetch clients for dropdown');\n      const clientsData = await clientsRes.json();\n      setClients(clientsData.data || []);\n      if (clientsData.data?.length > 0 && !newOperation.client_id) {\n        setNewOperation(prev => ({ ...prev, client_id: clientsData.data[0].id.toString() }));\n      }\n\n      if (!currenciesRes.ok) throw new Error('Failed to fetch currencies for dropdown');\n      const currenciesData = await currenciesRes.json();\n      setCurrencies(currenciesData.data || []);\n      if (currenciesData.data?.length > 0 && !newOperation.currency_id) {\n        setNewOperation(prev => ({ ...prev, currency_id: currenciesData.data[0].id.toString() }));\n      }\n    } catch (err) {\n      setError(prev => prev ? `${prev}; Ошибка загрузки данных для формы: ${err.message}` : `Ошибка загрузки данных для формы: ${err.message}`);\n      console.error('Fetch dropdown data error:', err);\n    }\n  }, []); // Убраны зависимости, так как они не нужны\n\n  useEffect(() => {\n    fetchOperations(currentPage);\n  }, [currentPage, fetchOperations]);\n\n  useEffect(() => {\n    fetchDropdownData();\n  }, [fetchDropdownData]);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setNewOperation(prev => ({ ...prev, [name]: value }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setFormLoading(true);\n    setFormError('');\n\n    if (!newOperation.client_id || !newOperation.currency_id || !newOperation.amount) {\n      setFormError('Все поля обязательны.');\n      setFormLoading(false);\n      return;\n    }\n    const amount = parseFloat(newOperation.amount);\n    if (amount <= 0) {\n      setFormError('Сумма должна быть больше нуля.');\n      setFormLoading(false);\n      return;\n    }\n    if (amount > parseFloat(operationLimits.single_operation_amount)) {\n      setFormError(`Сумма операции превышает лимит ${operationLimits.single_operation_amount}`);\n      setFormLoading(false);\n      return;\n    }\n\n    try {\n      const payload = {\n        client_id: parseInt(newOperation.client_id),\n        operation_type: newOperation.operation_type,\n        currency_id: parseInt(newOperation.currency_id),\n        amount: newOperation.amount.toString(), // Отправляем как строку\n        daily_currency_volume: operationLimits.daily_currency_volume,\n        single_operation_amount: operationLimits.single_operation_amount,\n      };\n      console.log('Sending operation payload:', payload);\n      const response = await fetch('http://localhost:8080/api/v1/operations', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(payload),\n      });\n      if (!response.ok) {\n        let message = `Network response was not ok (${response.status})`;\n        try {\n          const errData = await response.json();\n          message = errData.message || message;\n        } catch (jsonErr) {\n          console.error('Error parsing error response:', jsonErr);\n        }\n        if (message.includes('Daily limit')) {\n          setFormError('Превышен дневной лимит по валюте. Попробуйте завтра или уменьшите сумму.');\n        } else if (message.includes('Single operation')) {\n          setFormError('Сумма операции превышает допустимый лимит.');\n        } else {\n          setFormError('Ошибка создания операции: ' + message);\n        }\n        throw new Error(message);\n      }\n      setNewOperation(prev => ({ ...prev, amount: '' }));\n      fetchOperations(currentPage);\n    } catch (err) {\n      console.error('Error creating operation:', err);\n    } finally {\n      setFormLoading(false);\n    }\n  };\n\n  const formatDecimal = (decimalStr) => {\n    if (!decimalStr) return 'N/A';\n    const num = parseFloat(decimalStr);\n    return isNaN(num) ? decimalStr : num.toFixed(2);\n  };\n\n  const formatRate = (rateStr) => {\n    if (!rateStr) return 'N/A';\n    const num = parseFloat(rateStr);\n    return isNaN(num) ? rateStr : num.toFixed(4);\n  };\n\n  const formatDate = (dateTimeStr) => {\n    if (!dateTimeStr) return 'Не указано';\n    try {\n      if (typeof dateTimeStr === 'object' && dateTimeStr !== null) {\n        if (dateTimeStr.Time) {\n          dateTimeStr = dateTimeStr.Time;\n        } else if (dateTimeStr.Valid === false) {\n          return 'Не указано';\n        } else {\n          dateTimeStr = String(dateTimeStr);\n        }\n      }\n      if (typeof dateTimeStr === 'string') {\n        const isoRegex = /^(\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2})(\\.\\d+)?([+-]\\d{2}:\\d{2}|Z)?$/;\n        const match = dateTimeStr.match(isoRegex);\n        if (match) {\n          const date = new Date(dateTimeStr);\n          return date.toLocaleString('ru-RU');\n        }\n        const dateMatch = dateTimeStr.match(/(\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2})/);\n        if (dateMatch) {\n          const cleanedDate = dateMatch[1].replace(' ', 'T');\n          const date = new Date(cleanedDate);\n          if (!isNaN(date.getTime())) {\n            return date.toLocaleString('ru-RU');\n          }\n        }\n      }\n      const date = new Date(dateTimeStr);\n      if (!isNaN(date.getTime())) {\n        return date.toLocaleString('ru-RU');\n      }\n      return 'Некорректная дата';\n    } catch (error) {\n      console.error('Ошибка обработки даты:', error);\n      return 'Ошибка даты';\n    }\n  };\n\n  return (\n    <div>\n      <h2>Операции Обмена</h2>\n      {error && <p className=\"error-message\" style={{ color: 'red' }}>{error}</p>}\n\n      <h3>Новая операция</h3>\n      <form onSubmit={handleSubmit}>\n        {formError && <p className=\"error-message\" style={{ color: 'red' }}>{formError}</p>}\n        <div style={{ marginBottom: '10px' }}>\n          <label htmlFor=\"client_id\">Клиент:</label>\n          <select\n            id=\"client_id\"\n            name=\"client_id\"\n            value={newOperation.client_id}\n            onChange={handleInputChange}\n            required\n            style={{ padding: '8px', width: '200px' }}\n          >\n            <option value=\"\">-- Выберите клиента --</option>\n            {clients.map(client => (\n              <option key={client.id} value={client.id}>\n                {client.full_name} (ID: {client.id})\n              </option>\n            ))}\n          </select>\n        </div>\n        <div style={{ marginBottom: '10px' }}>\n          <label htmlFor=\"operation_type\">Тип операции:</label>\n          <select\n            id=\"operation_type\"\n            name=\"operation_type\"\n            value={newOperation.operation_type}\n            onChange={handleInputChange}\n            style={{ padding: '8px', width: '200px' }}\n          >\n            <option value=\"CLIENT_SELLS_TO_EXCHANGE\">Клиент продаёт валюту (покупает рубли)</option>\n            <option value=\"CLIENT_BUYS_FROM_EXCHANGE\">Клиент покупает валюту (продаёт рубли)</option>\n          </select>\n        </div>\n        <div style={{ marginBottom: '10px' }}>\n          <label htmlFor=\"currency_id\">Валюта:</label>\n          <select\n            id=\"currency_id\"\n            name=\"currency_id\"\n            value={newOperation.currency_id}\n            onChange={handleInputChange}\n            required\n            style={{ padding: '8px', width: '200px' }}\n          >\n            <option value=\"\">-- Выберите валюту --</option>\n            {currencies.map(curr => (\n              <option key={curr.id} value={curr.id}>\n                {curr.code} ({curr.name})\n              </option>\n            ))}\n          </select>\n        </div>\n        <div style={{ marginBottom: '10px' }}>\n          <label htmlFor=\"amount\">\n            {newOperation.operation_type === 'CLIENT_SELLS_TO_EXCHANGE'\n              ? 'Сумма валюты (продажа):'\n              : 'Сумма рублей (покупка):'}\n          </label>\n          <input\n            id=\"amount\"\n            type=\"number\"\n            step=\"0.01\"\n            name=\"amount\"\n            value={newOperation.amount}\n            onChange={handleInputChange}\n            required\n            style={{ padding: '8px', width: '200px' }}\n          />\n        </div>\n        <div style={{ marginBottom: '10px' }}>\n          <p>Лимит одной операции: {formatDecimal(operationLimits.single_operation_amount)}</p>\n          <p>Дневной лимит по валюте: {formatDecimal(operationLimits.daily_currency_volume)}</p>\n        </div>\n        <button\n          type=\"submit\"\n          disabled={formLoading}\n          style={{\n            padding: '8px 16px',\n            backgroundColor: formLoading ? '#ccc' : '#4CAF50',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            cursor: formLoading ? 'not-allowed' : 'pointer',\n          }}\n        >\n          {formLoading ? 'Обработка...' : 'Создать операцию'}\n        </button>\n      </form>\n\n      <h3>История операций</h3>\n      {loading && <p className=\"loading-message\">Загрузка операций...</p>}\n      {!loading && operations.length === 0 && <p>Нет операций для отображения.</p>}\n      {!loading && operations.length > 0 && (\n        <table style={{ width: '100%', borderCollapse: 'collapse', marginTop: '20px' }}>\n          <thead>\n            <tr style={{ backgroundColor: '#f0f0f0' }}>\n              <th style={{ border: '1px solid #ddd', padding: '8px' }}>ID</th>\n              <th style={{ border: '1px solid #ddd', padding: '8px' }}>Клиент</th>\n              <th style={{ border: '1px solid #ddd', padding: '8px' }}>Тип</th>\n              <th style={{ border: '1px solid #ddd', padding: '8px' }}>Валюта</th>\n              <th style={{ border: '1px solid #ddd', padding: '8px' }}>Рубли</th>\n              <th style={{ border: '1px solid #ddd', padding: '8px' }}>Эфф. Курс</th>\n              <th style={{ border: '1px solid #ddd', padding: '8px' }}>Время</th>\n              <th style={{ border: '1px solid #ddd', padding: '8px' }}>Чек</th>\n            </tr>\n          </thead>\n          <tbody>\n            {operations.map(op => (\n              <tr key={op.id} style={{ border: '1px solid #ddd' }}>\n                <td style={{ border: '1px solid #ddd', padding: '8px' }}>{op.id}</td>\n                <td style={{ border: '1px solid #ddd', padding: '8px' }}>{op.client_name || `ID: ${op.client_id}`}</td>\n                <td style={{ border: '1px solid #ddd', padding: '8px' }}>\n                  {op.operation_type === 'CLIENT_SELLS_TO_EXCHANGE' ? 'Продажа валюты' : 'Покупка валюты'}\n                </td>\n                <td style={{ border: '1px solid #ddd', padding: '8px' }}>\n                  {formatDecimal(op.amount_currency)} {op.currency_code}\n                </td>\n                <td style={{ border: '1px solid #ddd', padding: '8px' }}>{formatDecimal(op.amount_rub)} RUB</td>\n                <td style={{ border: '1px solid #ddd', padding: '8px' }}>{formatRate(op.effective_rate)}</td>\n                <td style={{ border: '1px solid #ddd', padding: '8px' }}>{formatDate(op.operation_timestamp)}</td>\n                <td style={{ border: '1px solid #ddd', padding: '8px' }}>\n                  <a\n                    className=\"receipt-link\"\n                    href=\"#\"\n                    onClick={(e) => {\n                      e.preventDefault();\n                      openReceipt(op.receipt_reference);\n                    }}\n                    title=\"Нажмите для просмотра чека\"\n                    style={{ color: '#2196F3', textDecoration: 'none' }}\n                  >\n                    {op.receipt_reference}\n                  </a>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      )}\n      <div style={{ marginTop: '20px' }}>\n        <button\n          onClick={() => setCurrentPage(p => Math.max(1, p - 1))}\n          disabled={currentPage === 1 || loading}\n          style={{\n            padding: '8px 16px',\n            marginRight: '10px',\n            backgroundColor: currentPage === 1 || loading ? '#ccc' : '#2196F3',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            cursor: currentPage === 1 || loading ? 'not-allowed' : 'pointer',\n          }}\n        >\n          Предыдущая\n        </button>\n        <span>Страница: {currentPage}</span>\n        <button\n          onClick={() => setCurrentPage(p => p + 1)}\n          disabled={operations.length < pageSize || loading}\n          style={{\n            padding: '8px 16px',\n            marginLeft: '10px',\n            backgroundColor: operations.length < pageSize || loading ? '#ccc' : '#2196F3',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            cursor: operations.length < pageSize || loading ? 'not-allowed' : 'pointer',\n          }}\n        >\n          Следующая\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default OperationsPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}